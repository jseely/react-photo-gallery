{"version":3,"sources":["webpack:///webpack/bootstrap 15ba5afa9ced5c292ea2","webpack:///external \"React\"","webpack:///external \"ReactDOM\"","webpack:///./src/Gallery.tsx"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AChEA,uB;;;;;;ACAA,0B;;;;;;;;;;;;;;;;;;;ACAA,mCAA+B;AAC/B,sCAAsC;AAsBtC;IAA6B,2BAAkC;IAC7D;QAAA,YACE,iBAAO,SAKR;QAJC,KAAI,CAAC,KAAK,GAAG;YACX,cAAc,EAAE,CAAC;SAClB,CAAC;QACF,KAAI,CAAC,YAAY,GAAG,KAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;;IACnD,CAAC;IAUM,mCAAiB,GAAxB;QACE,IAAI,CAAC,QAAQ,CAAC;YACZ,cAAc,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,qBAAqB,EAAE,CAAC,KAAK,CAAC;SACrF,CAAC,CAAC;QACH,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;IACvD,CAAC;IAEM,oCAAkB,GAAzB;QACE,IAAI,WAAW,GAAG,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,qBAAqB,EAAE,CAAC,KAAK;QAC1E,EAAE,CAAC,CAAC,WAAW,KAAK,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,EAAC;YAC7C,IAAI,CAAC,QAAQ,CAAC,EAAC,cAAc,EAAE,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,EAAC,CAAC,CAAC;QAC3D,CAAC;IACH,CAAC;IAEM,sCAAoB,GAA3B;QACE,MAAM,CAAC,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;IACjE,CAAC;IAEM,8BAAY,GAAnB,UAAoB,CAAM;QACxB,IAAI,CAAC,QAAQ,CAAC;YACZ,cAAc,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,qBAAqB,EAAE,CAAC,KAAK,CAAC;SACrF,CAAC,CAAC;IACL,CAAC;IAED,wBAAM,GAAN;QAAA,iBA0DC;QAzDC,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,EAC1B,iBAAiB,GAAG,EAAE,EACtB,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;QAEzE,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,0CAA0C;QAC7E,IAAI,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC;QAChD,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;YACd,IAAI,YAAY,GAAG,IAAI,CAAC,KAAK,CAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,GAAG,IAAI,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAE,CAAC;YAC1H,IAAI,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,GAAG,SAAS,CAAC;QAC1D,CAAC;QACD,kCAAkC;QAClC,uGAAuG;QACvG,GAAG,CAAC,CAAC,IAAI,CAAC,GAAC,CAAC,EAAC,CAAC,GAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,EAAC,CAAC,IAAE,IAAI,EAAC,CAAC;YAC/C,IAAI,OAAO,GAAC,CAAC,EACb,YAAY,GAAG,CAAC,CAAC;YAEjB,IAAI,WAAW,GAAG,EAAE;YACpB,wCAAwC;YACxC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAC,CAAC,GAAC,IAAI,EAAE,CAAC,EAAE,EAAC,CAAC;gBAC3B,EAAE,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,EAAC;oBACjC,KAAK,CAAC;gBACR,CAAC;gBACD,WAAW,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;gBAC1E,OAAO,IAAI,WAAW,CAAC,CAAC,CAAC,CAAC;YAC5B,CAAC;YACD,EAAE,CAAC,CAAC,CAAC,KAAK,YAAY,CAAC,CAAC,CAAC;gBACvB,YAAY,GAAG,YAAY,GAAG,OAAO,CAAC;YACxC,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,YAAY,GAAG,SAAS,GAAG,OAAO,CAAC;YACrC,CAAC;oCAEQ,CAAC;gBACR,EAAE,CAAC,CAAC,CAAC,IAAI,OAAK,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,EAAC;;gBAEnC,CAAC;gBAED,IAAI,GAAG,GAAG,OAAK,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,MAAM,WAAE,KAAK,UAAC;gBAClD,EAAE,CAAC,CAAC,OAAK,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,EAAC;oBAC/B,MAAM,GAAG,OAAK,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;gBAC9C,CAAC;gBACD,EAAE,CAAC,CAAC,OAAK,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,EAAC;oBAC9B,KAAK,GAAG,OAAK,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;gBAC5C,CAAC;gBAED,KAAK,CAAC,MAAM,GAAG,OAAK,KAAK,CAAC,MAAM,CAAC;gBACjC,iBAAiB,CAAC,IAAI,CACpB,6BAAK,GAAG,EAAE,CAAC,EAAE,KAAK,EAAE,KAAK;oBACvB,2BAAG,IAAI,EAAC,GAAG,EAAC,SAAS,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,UAAC,CAAC,IAAK,YAAI,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,CAAC,EAA7B,CAA6B;wBAC7E,6BAAK,GAAG,EAAE,GAAG,EAAE,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,EAAC,OAAO,EAAC,OAAO,EAAE,MAAM,EAAC,CAAC,EAAC,EAAE,MAAM,EAAE,YAAY,EAAE,KAAK,EAAE,YAAY,GAAG,WAAW,CAAC,CAAC,CAAC,EAAE,GAAG,EAAE,OAAK,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG,GAAI,CAC5K,CACA,CACP,CAAC;YACJ,CAAC;;YAtBD,2EAA2E;YAC3E,GAAG,CAAC,CAAC,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAC,CAAC,GAAC,IAAI,EAAE,CAAC,EAAE;sCAAlB,CAAC;;;aAqBT;QACH,CAAC;QACD,MAAM,EACJ,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,CACtC,CAAC;IACJ,CAAC;IAEO,+BAAa,GAArB,UAAsB,iBAAsB;QAC1C,MAAM,EACJ,6BAAK,EAAE,EAAC,SAAS,EAAC,SAAS,EAAC,UAAU,IACnC,iBAAiB,CACd,CACP,CAAC;IACJ,CAAC;IACH,cAAC;AAAD,CAAC,CA5G4B,KAAK,CAAC,SAAS;AAS5B,oBAAY,GAA0B;IAClD,IAAI,EAAE,CAAC;IACP,YAAY,EAAE,UAAS,CAAM,EAAE,CAAM;QACpC,CAAC,CAAC,cAAc,EAAE,CAAC;IACpB,CAAC;IACD,MAAM,EAAE,CAAC;CACV;AAfU,0BAAO;AA4GnB,CAAC;AAEF,sBAAsB;AACtB,IAAM,KAAK,GAAG;IACX,OAAO,EAAE,OAAO;IAChB,eAAe,EAAC,SAAS;IACzB,KAAK,EAAE,MAAM;IACb,MAAM,EAAE,CAAC;CACX","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 15ba5afa9ced5c292ea2","module.exports = React;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"React\"\n// module id = 0\n// module chunks = 0","module.exports = ReactDOM;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ReactDOM\"\n// module id = 1\n// module chunks = 0","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\n\nexport interface GalleryProps {\n  photos: Photo[];\n  cols?: number;\n  onClickPhoto?: Function;\n  margin?: number;\n}\n\nexport interface GalleryState {\n  containerWidth: number;\n}\n\nexport interface Photo {\n  src: string;\n  srcset?: string[];\n  sizes?: string[];\n  width: number;\n  height: number;\n  alt?: string;\n}\n\nexport class Gallery extends React.Component<GalleryProps, any>{\n  constructor(){\n    super();\n    this.state = {\n      containerWidth: 0\n    };\n    this.handleResize = this.handleResize.bind(this);\n  }\n\n  public static defaultProps: Partial<GalleryProps> = {\n    cols: 3, \n    onClickPhoto: function(k: any, e: any){\n\t    e.preventDefault();\n    },\n    margin: 2\n  }\n\n  public componentDidMount(){\n    this.setState({\n      containerWidth: Math.floor(ReactDOM.findDOMNode(this).getBoundingClientRect().width)\n    });\n    window.addEventListener('resize', this.handleResize);\n  }\n\n  public componentDidUpdate(){\n    var clientWidth = ReactDOM.findDOMNode(this).getBoundingClientRect().width\n    if (clientWidth !== this.state.containerWidth){\n      this.setState({containerWidth: Math.floor(clientWidth)});\n    }\n  }\n\n  public componentWillUnmount(){\n    window.removeEventListener('resize', this.handleResize, false);\n  }\n\n  public handleResize(e: any){\n    this.setState({\n      containerWidth: Math.floor(ReactDOM.findDOMNode(this).getBoundingClientRect().width)\n    });\n  }\n\n  render(){\n    let cols = this.props.cols,\n    photoPreviewNodes = [],\n    contWidth = this.state.containerWidth - (cols * (this.props.margin * 2)); \n\n    contWidth = Math.floor(contWidth); // add some padding to prevent layout prob\n    var remainder = this.props.photos.length % cols;\n    if (remainder) { // there are fewer photos than cols num in last row\n      var lastRowWidth = Math.floor( ((this.state.containerWidth / cols) * remainder) - (remainder * (this.props.margin * 2)) );\n      var lastRowIndex = this.props.photos.length - remainder;\n    }\n    // loop thru each set of  cols num\n    // eg. if cols is 3 it will  loop thru 0,1,2, then 3,4,5 to perform calculations for the particular set\n    for (var i=0;i<this.props.photos.length;i+=cols){\n      var totalAr=0,\n      commonHeight = 0;\n\n      var aspectRatio = []\n      // get the total aspect ratio of the row\n      for (var j=i; j<i+cols; j++){\n        if (j == this.props.photos.length){\n          break;\n        }\n        aspectRatio[j] = this.props.photos[j].width / this.props.photos[j].height;\t\n        totalAr += aspectRatio[j];\n      }\n      if (i === lastRowIndex) {\n        commonHeight = lastRowWidth / totalAr;\n      } else {\n        commonHeight = contWidth / totalAr;\n      }\n      // run thru the same set of items again to give the width and common height\n      for (let k=i; k<i+cols; k++){\n        if (k == this.props.photos.length){\n          break;\n        }\n\n        let src = this.props.photos[k].src, srcset, sizes;\n        if (this.props.photos[k].srcset){\n          srcset = this.props.photos[k].srcset.join();\n        }\n        if (this.props.photos[k].sizes){\n          sizes = this.props.photos[k].sizes.join();\n        }\n\n        style.margin = this.props.margin;\n        photoPreviewNodes.push(\n          <div key={k} style={style}>\n            <a href=\"#\" className={String(k)} onClick={(e) => this.props.onClickPhoto(k, e)}>\n              <img src={src} srcSet={srcset} sizes={sizes} style={{display:'block', border:0}} height={commonHeight} width={commonHeight * aspectRatio[k]} alt={this.props.photos[k].alt} />\n            </a>\n          </div>\n        );\n      }\n    }\n    return(\n      this.renderGallery(photoPreviewNodes)\n    );\n  }\n\n  private renderGallery(photoPreviewNodes: any){\n    return(\n      <div id=\"Gallery\" className=\"clearfix\">\n        {photoPreviewNodes}\n      </div>\n    );\n  }\n};\n\n// Gallery image style\nconst style = {\n   display: 'block',\n   backgroundColor:'#e3e3e3',\n   float: 'left',\n   margin: 0\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Gallery.tsx"],"sourceRoot":""}